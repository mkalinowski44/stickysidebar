!function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var o=function(){function t(e){var i=e.el,s=e.includeTop,r=e.includeBottom,n=e.includeBefore,o=e.includeAfter,a=e.mode,l=e.onMediaQuery;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sidebar=document.querySelector(i),this.container=this.getContainer(),this.mode=this.getMode(a),this.onMediaQuery=l,this.status=1,this.includeTop=s||0,this.topMargin=0,this.setTopMargin(),this.includeBottom=r||0,this.bottomMargin=0,this.setBottomMargin(),this.includeBefore=n||this.topMargin,this.beforeMargin=0,this.setBeforeMargin(),this.includeAfter=o||this.afterMargin,this.afterMargin=0,this.setAfterMargin(),this.initEvents()}var e,o,a;return e=t,(o=[{key:"getMode",value:function(t){switch(t){case"top":case"scroll":case"bottom":return t;default:return"top"}}},{key:"initEvents",value:function(){this.onScroll(),this.onResize(),window.addEventListener("scroll",this.throttle(this.onScroll.bind(this),10)),this.onMediaQuery&&window.addEventListener("resize",this.throttle(this.onResize.bind(this),10)),this.sidebarStyleDefault=this.sidebar.style,this.containerStyleDefault=this.container.el.style}},{key:"onResize",value:function(){var t=window.innerWidth,e=this.onMediaQuery[0],i=this.onMediaQuery[1]||"max";t>e&&("max"===i||t<i)&&0===this.status?(this.status=1,this.onScroll()):t<=e&&("max"===i||t>=i)&&1===this.status?(this.status=0,this.sidebar.classList.remove("ss-fixed-top"),this.sidebar.classList.remove("ss-fixed-bottom"),this.restoreStyles()):(this.sidebar.classList.remove("ss-fixed-top"),this.sidebar.classList.remove("ss-fixed-bottom"),this.onScroll())}},{key:"onScroll",value:function(){var t=this.getDocumentHeight();if(1===this.status)switch(this.mode){case"top":t-this.beforeMargin-this.afterMargin>this.sidebar.clientHeight&&(window.scrollY>=this.container.y-this.topMargin&&window.scrollY+this.topMargin<t-this.bottomMargin-this.sidebar.clientHeight&&!this.sidebar.classList.contains("ss-fixed-top")&&(this.sidebar.classList.remove("ss-fixed-bottom"),this.sidebar.classList.add("ss-fixed-top"),this.saveStyles(),this.sidebar.style.position="fixed",this.sidebar.style.width=this.container.width+"px",this.sidebar.style.top=this.topMargin+"px"),window.scrollY<this.container.y-this.topMargin&&this.sidebar.classList.contains("ss-fixed-top")&&(this.sidebar.classList.remove("ss-fixed-top"),this.sidebar.classList.remove("ss-fixed-bottom"),this.restoreStyles()),window.scrollY+this.topMargin>=t-this.bottomMargin-this.sidebar.clientHeight&&!this.sidebar.classList.contains("ss-fixed-bottom")&&(this.sidebar.classList.remove("ss-fixed-top"),this.sidebar.classList.add("ss-fixed-bottom"),this.saveStyles(),this.sidebar.style.position="absolute",this.sidebar.style.width=this.container.width+"px",this.sidebar.style.top=t-this.bottomMargin-this.sidebar.clientHeight+"px"))}}},{key:"getDocumentHeight",value:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}},{key:"saveStyles",value:function(){this.restoreStyles(),this.sidebarStyleDefault=this.sidebar.style}},{key:"restoreStyles",value:function(){this.sidebar.style=this.sidebarStyleDefault}},{key:"getScrollDirection",value:function(){this.lastScrollPos||(this.lastScrollPos=0);var t=window.scrollY-this.lastScrollPos;return this.lastScrollPos=window.scrollY,0===t?0:t>0?-1:t<0?1:void 0}},{key:"getContainer",value:function(){var t=this.sidebar.parentNode,e=this.getBoundingClientRect(t);return e.y+=window.scrollY,e.x+=window.scrollX,function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({el:t},e)}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}},{key:"getElementOffsetHeight",value:function(t){var e=t.clientHeight,i=window.getComputedStyle(t);return e+parseFloat(i.marginTop)+parseFloat(i.marginBottom)}},{key:"getIncludeMargin",value:function(t){var e=this;switch(i(t)){case"number":return t;case"string":var s=document.querySelector(t);return this.getElementOffsetHeight(s);case"object":if(this.isDOMObject(t))return this.getElementOffsetHeight(t);Array.isArray(t)||(t=Object.values(t));case"array":var r=0;return t.forEach((function(t){r+=e.getIncludeMargin(t)})),r;default:return 0}}},{key:"setTopMargin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==t&&(this.includeTop=t),this.topMargin=this.getIncludeMargin(this.includeTop),this.topMargin}},{key:"setBottomMargin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==t&&(this.includeBottom=t),this.bottomMargin=this.getIncludeMargin(this.includeBottom),this.bottomMargin}},{key:"setBeforeMargin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==t&&(this.includeBefore=t),this.beforeMargin=this.getIncludeMargin(this.includeBefore),this.beforeMargin}},{key:"setAfterMargin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==t&&(this.includeAfter=t),this.afterMargin=this.getIncludeMargin(this.includeAfter),this.afterMargin}},{key:"isDOMObject",value:function(t){try{return t instanceof HTMLElement}catch(e){return"object"===i(t)&&1===t.nodeType&&"object"===i(t.style)&&"object"===i(t.ownerDocument)}}},{key:"throttle",value:function(t,e){var i=!1;return function(){i||(t.apply(this,arguments),i=!0,setTimeout((function(){i=!1}),e))}}}])&&n(e.prototype,o),a&&n(e,a),t}();window.StickySidebar=o}]);